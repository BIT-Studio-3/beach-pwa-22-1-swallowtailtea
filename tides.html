---
layout: index.njk 
title: Tide Calendar
---

<h1 id="calendarHeading">{{ title }} for</h1>

<script>
    const checks = document.getElementsByClassName("theme");
    
    //If darkMode doesnâ€™t exist in the LocalStorage, create it. False by default
    if (localStorage.getItem('darkMode')===null){
        localStorage.setItem('darkMode', "false");
    }
    
    //checkStatus is only called one time in the program, when you reload the page
    //It gives the page it's default look, depening on waht darkMode is set to
    checkStatus()
  
    function checkStatus(){
        if (localStorage.getItem('darkMode')==="false"){ //lightmode
    
            changeColorTheme('dark');
        }else{ //darkmode
           
            changeColorTheme('light');
        }
        
        console.log(localStorage.darkMode);
    }
  
    function changeStatus(desiredTheme){                                            //This function gets called every time the checkbox is clicked
        
        if(desiredTheme == 'dark' ){
            localStorage.setItem('darkMode', "false");                  //so we set it to false, to indicate we are in light mode
            changeColorTheme('dark');
        }
        else if (desiredTheme == 'light'){
            localStorage.setItem('darkMode', "true");                   //same code but adapted for dark theme
            changeColorTheme('light');
        }
    }
  
    function changeColorTheme(desiredTheme ) {
        if(desiredTheme == 'light' /*currentTheme == "darkmode"*/){ //if dark mode change to light mode
            let a = document.getElementsByClassName( "darkmode" );
            [...a].forEach( x => x.className += " lightmode" );
            [...a].forEach( x => x.classList.remove("darkmode") );
        }
        else{
            let a = document.getElementsByClassName( "lightmode" );
            [...a].forEach( x => x.className += " darkmode" );
            [...a].forEach( x => x.classList.remove("lightmode") );
        }
    }
</script>

<script src="/js/calendar.js"></script>
<script src="/js/weekendTideModule.js"></script>

